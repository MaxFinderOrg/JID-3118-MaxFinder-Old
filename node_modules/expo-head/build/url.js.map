{"version":3,"file":"url.js","sourceRoot":"","sources":["../src/url.tsx"],"names":[],"mappings":"AAAA,OAAO,SAAS,MAAM,gBAAgB,CAAC;AAEvC,SAAS,mBAAmB;IAC1B,0DAA0D;IAC1D,MAAM,QAAQ,GACZ,SAAS,CAAC,UAAU,IAAI,SAAS,CAAC,SAAS,IAAI,SAAS,CAAC,QAAQ,CAAC;IAEpE,MAAM,MAAM;IACV,mBAAmB;IACnB,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,UAAU,IAAI,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC;IAEzE,IAAI,CAAC,MAAM,EAAE;QACX,YAAY,CACV,2FAA2F,CAC5F,CAAC;QACF,kDAAkD;QAClD,OAAO,oBAAoB,CAAC;KAC7B;IAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;QAChC,YAAY,CAAC,6DAA6D,CAAC,CAAC;KAC7E;IAED,OAAO,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACnC,CAAC;AAED,SAAS,YAAY,CAAC,GAAW;IAC/B,4DAA4D;IAC5D;IACE,iCAAiC;IACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EACrC;QACA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnB,KAAK,CAAC,GAAG,CAAC,CAAC;KACZ;SAAM;QACL,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;KACtB;AACH,CAAC;AAED,MAAM,UAAU,0BAA0B,CAAC,QAAgB;IACzD,kCAAkC;IAClC,sCAAsC;IACtC,OAAO,mBAAmB,EAAE,GAAG,QAAQ,CAAC;AAC1C,CAAC","sourcesContent":["import Constants from \"expo-constants\";\n\nfunction getUrlFromConstants(): string | null {\n  // This will require a rebuild in bare-workflow to update.\n  const manifest =\n    Constants.expoConfig || Constants.manifest2 || Constants.manifest;\n\n  const origin =\n    // @ts-expect-error\n    manifest?.extra?.router?.headOrigin ?? manifest?.extra?.router?.origin;\n\n  if (!origin) {\n    throwOrAlert(\n      'Expo Head: Add the handoff origin to the native manifest under \"extra.router.headOrigin\".'\n    );\n    // Fallback value that shouldn't be used for real.\n    return \"https://github.com\";\n  }\n\n  if (!/^https?:\\/\\//.test(origin)) {\n    throwOrAlert('Expo Head: Web URL must start with \"http://\" or \"https://\".');\n  }\n\n  return origin.replace(/\\/$/, \"\");\n}\n\nfunction throwOrAlert(msg: string) {\n  // Production apps fatally crash which is often not helpful.\n  if (\n    // @ts-ignore: process is defined\n    process.env.NODE_ENV === \"production\"\n  ) {\n    console.error(msg);\n    alert(msg);\n  } else {\n    throw new Error(msg);\n  }\n}\n\nexport function getStaticUrlFromExpoRouter(pathname: string) {\n  // const host = \"https://expo.io\";\n  // Append the URL we'd find in context\n  return getUrlFromConstants() + pathname;\n}\n"]}